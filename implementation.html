<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteSQL: Implementation Details</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteSQL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Implementation Details </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="toc"></a>
Index</h1>
<ul>
<li><a class="el" href="implementation.html#codegenerator">Code Generator litesql-gen</a></li>
<li><a class="el" href="implementation.html#mappingtodatabase">Mapping Objects to Relational Database</a></li>
<li><a class="el" href="implementation.html#virtualmethods">Virtual Methods</a> </li>
</ul>
<h1><a class="anchor" id="codegenerator"></a>
Code Generator litesql-gen</h1>
<p>LiteSQL uses XML database definition file which is used to generate Persistent and Relation classes.</p>
<p>litesql-gen is the code generator written in C++ that generates code from database definition file.</p>
<p>Small help: </p><div class="fragment"><div class="line">./litesql-gen  --help</div>
<div class="line">Usage: litesql-gen [options] &lt;my-database.xml&gt;</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line"> -t, --target=TARGET                generate code <span class="keywordflow">for</span> TARGET (<span class="keywordflow">default</span>: c++)</div>
<div class="line"> -v, --verbose                      verbosely report code generation</div>
<div class="line"> --help                             print help</div>
<div class="line"> </div>
<div class="line"> --output-dir=/path/to/src          output all files to directory</div>
<div class="line"> </div>
<div class="line"> --output-sources=/path/to/src      output sources to directory </div>
<div class="line">                                    (only with target c++)</div>
<div class="line"> </div>
<div class="line"> --output-include=/path/to/include  output includes to directory </div>
<div class="line">                                    (only with target c++)</div>
<div class="line"> </div>
<div class="line">Supported targets:</div>
<div class="line"> &#39;c++&#39;        C++ target (.cpp,.hpp)</div>
<div class="line"> &#39;graphviz&#39;   Graphviz file (.dot)</div>
<div class="line"> &#39;ruby-activerecord&#39; experimental ruby support, generates migration and activeRecord classes</div>
</div><!-- fragment --><p>The example database definition file (exampledatabase.xml) page will result in two files (exampledatabase.hpp and testdatabase.cpp) when fed to code generator. </p><div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">database</span> <span class="keyword">SYSTEM</span> <span class="stringliteral">&quot;litesql.dtd&quot;</span>&gt; </div>
<div class="line">&lt;<span class="keywordtype">database</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ExampleDatabase&quot;</span> <span class="keyword">namespace</span>=<span class="stringliteral">&quot;example&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">include</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;auth.xml&quot;</span> /&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Person&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span> <span class="keyword">length</span>=<span class="stringliteral">&quot;256&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;age&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;integer&quot;</span> <span class="keyword">default</span>=<span class="stringliteral">&quot;15&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;image&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;blob&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;aDoubleValue&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;sex&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;integer&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">value</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Male&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div>
<div class="line">            &lt;<span class="keywordtype">value</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Female&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">field</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">method</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;sayHello&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">index</span> <span class="keyword">unique</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">indexfield</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">indexfield</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;age&quot;</span>/&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">index</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;/<span class="keywordtype">object</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Mother&quot;</span> <span class="keyword">unidir</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;many&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;mother&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">relation</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Father&quot;</span> <span class="keyword">unidir</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;many&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;father&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">relation</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Siblings&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;siblings&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">relation</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Children&quot;</span> <span class="keyword">unidir</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;children&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">relation</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Role&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Student&quot;</span> <span class="keyword">inherits</span>=<span class="stringliteral">&quot;Role&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Employee&quot;</span> <span class="keyword">inherits</span>=<span class="stringliteral">&quot;Role&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Roles&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;RoleRelation&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;roles&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Role&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;person&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">relation</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;School&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span> <span class="keyword">length</span>=<span class="stringliteral">&quot;512&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">object</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">relation</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Student&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;school&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;School&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;students&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div>
<div class="line">        </div>
<div class="line">    &lt;/<span class="keywordtype">relation</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Office&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">relation</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Employee&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;office&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Office&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;employees&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">relation</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ThingWithMethods&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">method</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;sayHello&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">param</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;std::string&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;text&quot;</span> /&gt;</div>
<div class="line">      &lt;<span class="keywordtype">param</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;int&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;repeat&quot;</span> /&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;/<span class="keywordtype">method</span>&gt;  </div>
<div class="line"> </div>
<div class="line">  &lt;/<span class="keywordtype">object</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">database</span>&gt;</div>
</div><!-- fragment --><p> exampledatabase.hpp contains class declarations for persistent objects and relations </p><div class="fragment"><div class="line"><span class="preprocessor">#ifndef exampledatabase_hpp</span></div>
<div class="line"><span class="preprocessor">#define exampledatabase_hpp</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="litesql_8hpp.html">litesql.hpp</a>&quot;</span></div>
<div class="line"><span class="keyword">namespace </span>example {</div>
<div class="line"><span class="keyword">class </span>user;</div>
<div class="line"><span class="keyword">class </span>Person;</div>
<div class="line"><span class="keyword">class </span>Role;</div>
<div class="line"><span class="keyword">class </span>Student;</div>
<div class="line"><span class="keyword">class </span>Employee;</div>
<div class="line"><span class="keyword">class </span>School;</div>
<div class="line"><span class="keyword">class </span>Office;</div>
<div class="line"><span class="keyword">class </span>ThingWithMethods;</div>
<div class="line"><span class="keyword">class </span>PersonPersonRelationMother {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Row {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person2;</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person1;</div>
<div class="line">        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person1;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person2;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">};</div>
<div class="line"><span class="keyword">class </span>PersonPersonRelationFather {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Row {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person2;</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person1;</div>
<div class="line">        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person1;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person2;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">};</div>
<div class="line"><span class="keyword">class </span>PersonPersonRelationSiblings {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Row {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person2;</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person1;</div>
<div class="line">        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person1;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person2;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">};</div>
<div class="line"><span class="keyword">class </span>PersonPersonRelationChildren {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Row {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person2;</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person1;</div>
<div class="line">        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person1;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person2;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">};</div>
<div class="line"><span class="keyword">class </span>RoleRelation {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Row {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> role;</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> person;</div>
<div class="line">        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Role;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;RoleRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;T&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">;</div>
<div class="line">;</div>
<div class="line">};</div>
<div class="line"><span class="keyword">class </span>SchoolStudentRelation {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Row {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> student;</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> school;</div>
<div class="line">        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> School;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Student;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;T&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">;</div>
<div class="line">;</div>
<div class="line">};</div>
<div class="line"><span class="keyword">class </span>EmployeeOfficeRelation {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Row {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> office;</div>
<div class="line">        <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> employee;</div>
<div class="line">        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Employee;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Office;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;T&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">;</div>
<div class="line">;</div>
<div class="line">};</div>
<div class="line"><span class="keyword">class </span>user : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1Persistent.html">litesql::Persistent</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> id;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Type;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> type;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Name;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> name;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Passwd;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> passwd;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> initValues();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keywordtype">void</span> defaults();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    user(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    user(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    user(<span class="keyword">const</span> user&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> user&amp; operator=(<span class="keyword">const</span> user&amp; obj);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> sayHello();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;user&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;user&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, user o);</div>
<div class="line"><span class="keyword">class </span>Person : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1Persistent.html">litesql::Persistent</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>SexType : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Male;</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Female;</div>
<div class="line">        SexType(<span class="keyword">const</span> std::string&amp; n, AT_field_type t, <span class="keyword">const</span> std::string&amp; tbl, <span class="keyword">const</span> litesql::FieldType::Values&amp; vals=Values());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>Sex {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Male;</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Female;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>MotherHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Person&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        MotherHandle(<span class="keyword">const</span> Person&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>FatherHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Person&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        FatherHandle(<span class="keyword">const</span> Person&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>SiblingsHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Person&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        SiblingsHandle(<span class="keyword">const</span> Person&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>ChildrenHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Person&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        ChildrenHandle(<span class="keyword">const</span> Person&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>RolesHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Person&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        RolesHandle(<span class="keyword">const</span> Person&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Role&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Role&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Role&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;RoleRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> id;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Type;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> type;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Name;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> name;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Age;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> age;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Image;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;litesql::Blob&gt;</a> image;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> ADoubleValue;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;double&gt;</a> aDoubleValue;</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">static</span> std::vector &lt; std::pair&lt; std::string, std::string &gt; &gt; sex_values;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Sex;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> sex;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> initValues();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keywordtype">void</span> defaults();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    Person(<span class="keyword">const</span> Person&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> Person&amp; operator=(<span class="keyword">const</span> Person&amp; obj);</div>
<div class="line">    Person::MotherHandle mother();</div>
<div class="line">    Person::FatherHandle father();</div>
<div class="line">    Person::SiblingsHandle siblings();</div>
<div class="line">    Person::ChildrenHandle children();</div>
<div class="line">    Person::RolesHandle roles();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> sayHello();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Person&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Person&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Person o);</div>
<div class="line"><span class="keyword">class </span>Role : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1Persistent.html">litesql::Persistent</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>PersonHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Role&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        PersonHandle(<span class="keyword">const</span> Role&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;RoleRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> id;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Type;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> type;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> initValues();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keywordtype">void</span> defaults();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    Role(<span class="keyword">const</span> Role&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> Role&amp; operator=(<span class="keyword">const</span> Role&amp; obj);</div>
<div class="line">    Role::PersonHandle person();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Role&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Role&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Role o);</div>
<div class="line"><span class="keyword">class </span>Student : <span class="keyword">public</span> Role {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>SchoolHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Student&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        SchoolHandle(<span class="keyword">const</span> Student&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> School&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> School&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;School&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    Student(<span class="keyword">const</span> Student&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> Student&amp; operator=(<span class="keyword">const</span> Student&amp; obj);</div>
<div class="line">    Student::SchoolHandle school();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Student&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Student&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Student o);</div>
<div class="line"><span class="keyword">class </span>Employee : <span class="keyword">public</span> Role {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>OfficeHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Employee&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        OfficeHandle(<span class="keyword">const</span> Employee&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Office&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Office&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Office&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    Employee(<span class="keyword">const</span> Employee&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> Employee&amp; operator=(<span class="keyword">const</span> Employee&amp; obj);</div>
<div class="line">    Employee::OfficeHandle office();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Employee&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Employee&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Employee o);</div>
<div class="line"><span class="keyword">class </span>School : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1Persistent.html">litesql::Persistent</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>StudentsHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;School&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        StudentsHandle(<span class="keyword">const</span> School&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Student&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Student&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Student&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> id;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Type;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> type;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Name;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> name;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> initValues();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keywordtype">void</span> defaults();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    School(<span class="keyword">const</span> School&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> School&amp; operator=(<span class="keyword">const</span> School&amp; obj);</div>
<div class="line">    School::StudentsHandle students();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;School&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;School&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, School o);</div>
<div class="line"><span class="keyword">class </span>Office : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1Persistent.html">litesql::Persistent</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">class </span>EmployeesHandle : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a>&lt;Office&gt; {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        EmployeesHandle(<span class="keyword">const</span> Office&amp; owner);</div>
<div class="line">        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Employee&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Employee&amp; o0);</div>
<div class="line">        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Employee&gt;</a> get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">        <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>());</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> id;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Type;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> type;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> initValues();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keywordtype">void</span> defaults();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    Office(<span class="keyword">const</span> Office&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> Office&amp; operator=(<span class="keyword">const</span> Office&amp; obj);</div>
<div class="line">    Office::EmployeesHandle employees();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Office&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;Office&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Office o);</div>
<div class="line"><span class="keyword">class </span>ThingWithMethods : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1Persistent.html">litesql::Persistent</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">class </span>Own {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Id;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field.html">litesql::Field&lt;int&gt;</a> id;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Type;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt;std::string&gt;</a> type;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> initValues();</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keywordtype">void</span> defaults();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    ThingWithMethods(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db);</div>
<div class="line">    ThingWithMethods(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec);</div>
<div class="line">    ThingWithMethods(<span class="keyword">const</span> ThingWithMethods&amp; obj);</div>
<div class="line">    <span class="keyword">const</span> ThingWithMethods&amp; operator=(<span class="keyword">const</span> ThingWithMethods&amp; obj);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> sayHello(std::string text, <span class="keywordtype">int</span> repeat);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::string insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs);</div>
<div class="line">    <span class="keywordtype">void</span> create();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;ThingWithMethods&gt; upcast() <span class="keyword">const</span>;</div>
<div class="line">    std::unique_ptr&lt;ThingWithMethods&gt; upcastCopy() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, ThingWithMethods o);</div>
<div class="line"><span class="keyword">class </span>ExampleDatabase : <span class="keyword">public</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    ExampleDatabase( <span class="keyword">const</span> std::string&amp; backendType, <span class="keyword">const</span> std::string&amp; connInfo);</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> std::vector&lt;litesql::Database::SchemaItem&gt; getSchema() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> initialize();</div>
<div class="line">};</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aclasslitesql_1_1DataSource_html"><div class="ttname"><a href="classlitesql_1_1DataSource.html">litesql::DataSource</a></div><div class="ttdoc">template class which holds SelectQuery for selecting objects of type T</div><div class="ttdef"><b>Definition:</b> datasource.hpp:35</div></div>
<div class="ttc" id="aclasslitesql_1_1Database_html"><div class="ttname"><a href="classlitesql_1_1Database.html">litesql::Database</a></div><div class="ttdoc">A base class of databases.</div><div class="ttdef"><b>Definition:</b> database.hpp:33</div></div>
<div class="ttc" id="aclasslitesql_1_1Expr_html"><div class="ttname"><a href="classlitesql_1_1Expr.html">litesql::Expr</a></div><div class="ttdoc">A base class for expression in WHERE - clause.</div><div class="ttdef"><b>Definition:</b> expr.hpp:18</div></div>
<div class="ttc" id="aclasslitesql_1_1FieldType_html"><div class="ttname"><a href="classlitesql_1_1FieldType.html">litesql::FieldType</a></div><div class="ttdef"><b>Definition:</b> field.hpp:25</div></div>
<div class="ttc" id="aclasslitesql_1_1Field_3_01std_1_1string_01_4_html"><div class="ttname"><a href="classlitesql_1_1Field_3_01std_1_1string_01_4.html">litesql::Field&lt; std::string &gt;</a></div><div class="ttdef"><b>Definition:</b> field.hpp:118</div></div>
<div class="ttc" id="aclasslitesql_1_1Field_html"><div class="ttname"><a href="classlitesql_1_1Field.html">litesql::Field</a></div><div class="ttdoc">holds field value</div><div class="ttdef"><b>Definition:</b> field.hpp:75</div></div>
<div class="ttc" id="aclasslitesql_1_1Persistent_html"><div class="ttname"><a href="classlitesql_1_1Persistent.html">litesql::Persistent</a></div><div class="ttdoc">An abstract base class of persistents objects.</div><div class="ttdef"><b>Definition:</b> persistent.hpp:25</div></div>
<div class="ttc" id="aclasslitesql_1_1Record_html"><div class="ttname"><a href="classlitesql_1_1Record.html">litesql::Record</a></div><div class="ttdoc">SQL data row wrapper.</div><div class="ttdef"><b>Definition:</b> types.hpp:20</div></div>
<div class="ttc" id="aclasslitesql_1_1RelationHandle_html"><div class="ttname"><a href="classlitesql_1_1RelationHandle.html">litesql::RelationHandle</a></div><div class="ttdoc">base class of relation handles attached to Persistent objects</div><div class="ttdef"><b>Definition:</b> relation.hpp:15</div></div>
<div class="ttc" id="alitesql_8hpp_html"><div class="ttname"><a href="litesql_8hpp.html">litesql.hpp</a></div><div class="ttdoc">include this from your project</div></div>
<div class="ttc" id="atypes_8hpp_html_a8bc115c26449fcf22b057cd3c5305d98"><div class="ttname"><a href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a></div><div class="ttdeci">std::vector&lt; Record &gt; Records</div><div class="ttdoc">shortcut</div><div class="ttdef"><b>Definition:</b> types.hpp:26</div></div>
</div><!-- fragment --><p> exampledatabase.cpp contains implementation of methods and lots of static data. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;exampledatabase.hpp&quot;</span></div>
<div class="line"><span class="keyword">namespace </span>example {</div>
<div class="line"><span class="keyword">using namespace </span>litesql;</div>
<div class="line">PersonPersonRelationMother::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">         : person2(PersonPersonRelationMother::Person2), person1(PersonPersonRelationMother::Person1) {</div>
<div class="line">    <span class="keywordflow">switch</span>(rec.size()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        person2 = rec[1];</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        person1 = rec[0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string PersonPersonRelationMother::table__(<span class="stringliteral">&quot;Person_Person_Mother&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationMother::Person1(<span class="stringliteral">&quot;Person1_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationMother::Person2(<span class="stringliteral">&quot;Person2_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationMother::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    Record values;</div>
<div class="line">    Record fields;</div>
<div class="line">    fields.push_back(Person1.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    fields.push_back(Person2.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationMother::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationMother::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> PersonPersonRelationMother::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.where(expr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationMother::Row&gt;(db, sel);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationMother::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationMother::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line">PersonPersonRelationFather::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">         : person2(PersonPersonRelationFather::Person2), person1(PersonPersonRelationFather::Person1) {</div>
<div class="line">    <span class="keywordflow">switch</span>(rec.size()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        person2 = rec[1];</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        person1 = rec[0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string PersonPersonRelationFather::table__(<span class="stringliteral">&quot;Person_Person_Father&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationFather::Person1(<span class="stringliteral">&quot;Person1_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationFather::Person2(<span class="stringliteral">&quot;Person2_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationFather::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    Record values;</div>
<div class="line">    Record fields;</div>
<div class="line">    fields.push_back(Person1.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    fields.push_back(Person2.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationFather::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationFather::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> PersonPersonRelationFather::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.where(expr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationFather::Row&gt;(db, sel);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationFather::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationFather::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line">PersonPersonRelationSiblings::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">         : person2(PersonPersonRelationSiblings::Person2), person1(PersonPersonRelationSiblings::Person1) {</div>
<div class="line">    <span class="keywordflow">switch</span>(rec.size()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        person2 = rec[1];</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        person1 = rec[0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string PersonPersonRelationSiblings::table__(<span class="stringliteral">&quot;Person_Person_Siblings&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationSiblings::Person1(<span class="stringliteral">&quot;Person1_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationSiblings::Person2(<span class="stringliteral">&quot;Person2_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationSiblings::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    Record values;</div>
<div class="line">    Record fields;</div>
<div class="line">    fields.push_back(Person1.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    fields.push_back(Person2.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">    fields.clear();</div>
<div class="line">    values.clear();</div>
<div class="line">    fields.push_back(Person1.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    fields.push_back(Person2.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationSiblings::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (Person1 == o1.id &amp;&amp; Person2 == o0.id));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationSiblings::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> PersonPersonRelationSiblings::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.where(expr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationSiblings::Row&gt;(db, sel);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationSiblings::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationSiblings::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line">PersonPersonRelationChildren::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">         : person2(PersonPersonRelationChildren::Person2), person1(PersonPersonRelationChildren::Person1) {</div>
<div class="line">    <span class="keywordflow">switch</span>(rec.size()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        person2 = rec[1];</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        person1 = rec[0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string PersonPersonRelationChildren::table__(<span class="stringliteral">&quot;Person_Person_Children&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationChildren::Person1(<span class="stringliteral">&quot;Person1_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> PersonPersonRelationChildren::Person2(<span class="stringliteral">&quot;Person2_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationChildren::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    Record values;</div>
<div class="line">    Record fields;</div>
<div class="line">    fields.push_back(Person1.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    fields.push_back(Person2.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationChildren::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> PersonPersonRelationChildren::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> PersonPersonRelationChildren::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.where(expr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationChildren::Row&gt;(db, sel);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationChildren::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person1.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationChildren::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person2.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line">RoleRelation::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">         : role(RoleRelation::Role), person(RoleRelation::Person) {</div>
<div class="line">    <span class="keywordflow">switch</span>(rec.size()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        role = rec[1];</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        person = rec[0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string RoleRelation::table__(<span class="stringliteral">&quot;Person_Role_Roles&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> RoleRelation::Person(<span class="stringliteral">&quot;Person1_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> RoleRelation::Role(<span class="stringliteral">&quot;Role2_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> RoleRelation::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1) {</div>
<div class="line">    Record values;</div>
<div class="line">    Record fields;</div>
<div class="line">    fields.push_back(Person.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    fields.push_back(Role.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> RoleRelation::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (Person == o0.id &amp;&amp; Role == o1.id));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> RoleRelation::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;RoleRelation::Row&gt;</a> RoleRelation::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.result(Person.fullName());</div>
<div class="line">    sel.result(Role.fullName());</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.where(expr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;RoleRelation::Row&gt;(db, sel);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Person&gt;</a> RoleRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Person.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Role&gt;</a> RoleRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Role.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Role&gt;(db, example::Role::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line">SchoolStudentRelation::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">         : student(SchoolStudentRelation::Student), school(SchoolStudentRelation::School) {</div>
<div class="line">    <span class="keywordflow">switch</span>(rec.size()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        student = rec[1];</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        school = rec[0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string SchoolStudentRelation::table__(<span class="stringliteral">&quot;School_Student_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> SchoolStudentRelation::School(<span class="stringliteral">&quot;School1_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> SchoolStudentRelation::Student(<span class="stringliteral">&quot;Student2_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> SchoolStudentRelation::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1) {</div>
<div class="line">    Record values;</div>
<div class="line">    Record fields;</div>
<div class="line">    fields.push_back(School.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    fields.push_back(Student.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> SchoolStudentRelation::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (School == o0.id &amp;&amp; Student == o1.id));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> SchoolStudentRelation::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> SchoolStudentRelation::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.result(School.fullName());</div>
<div class="line">    sel.result(Student.fullName());</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.where(expr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;SchoolStudentRelation::Row&gt;(db, sel);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::School&gt;</a> SchoolStudentRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(School.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::School&gt;(db, example::School::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Student&gt;</a> SchoolStudentRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Student.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Student&gt;(db, example::Student::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line">EmployeeOfficeRelation::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">         : office(EmployeeOfficeRelation::Office), employee(EmployeeOfficeRelation::Employee) {</div>
<div class="line">    <span class="keywordflow">switch</span>(rec.size()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        office = rec[1];</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        employee = rec[0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string EmployeeOfficeRelation::table__(<span class="stringliteral">&quot;Employee_Office_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> EmployeeOfficeRelation::Employee(<span class="stringliteral">&quot;Employee1_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> EmployeeOfficeRelation::Office(<span class="stringliteral">&quot;Office2_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> EmployeeOfficeRelation::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1) {</div>
<div class="line">    Record values;</div>
<div class="line">    Record fields;</div>
<div class="line">    fields.push_back(Employee.name());</div>
<div class="line">    values.push_back(o0.id);</div>
<div class="line">    fields.push_back(Office.name());</div>
<div class="line">    values.push_back(o1.id);</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">insert</a>(table__, values, fields);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> EmployeeOfficeRelation::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, (Employee == o0.id &amp;&amp; Office == o1.id));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> EmployeeOfficeRelation::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    db.<a class="code" href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">delete_</a>(table__, expr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> EmployeeOfficeRelation::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.result(Employee.fullName());</div>
<div class="line">    sel.result(Office.fullName());</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.where(expr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;EmployeeOfficeRelation::Row&gt;(db, sel);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Employee&gt;</a> EmployeeOfficeRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Employee.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Employee&gt;(db, example::Employee::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;example::Office&gt;</a> EmployeeOfficeRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    SelectQuery sel;</div>
<div class="line">    sel.source(table__);</div>
<div class="line">    sel.result(Office.fullName());</div>
<div class="line">    sel.where(srcExpr);</div>
<div class="line">    <span class="keywordflow">return</span> DataSource&lt;example::Office&gt;(db, example::Office::Id.in(sel) &amp;&amp; expr);</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> user::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;user_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string user::type__(<span class="stringliteral">&quot;user&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string user::table__(<span class="stringliteral">&quot;user_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string user::sequence__(<span class="stringliteral">&quot;user_seq&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> user::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> user::Type(<span class="stringliteral">&quot;type_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> user::Name(<span class="stringliteral">&quot;name_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> user::Passwd(<span class="stringliteral">&quot;passwd_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keywordtype">void</span> user::initValues() {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::defaults() {</div>
<div class="line">    <span class="keywordtype">id</span> = 0;</div>
<div class="line">}</div>
<div class="line">user::user(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : litesql::Persistent(db), id(Id), type(Type), name(Name), passwd(Passwd) {</div>
<div class="line">    defaults();</div>
<div class="line">}</div>
<div class="line">user::user(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : litesql::Persistent(db, rec), id(Id), type(Type), name(Name), passwd(Passwd) {</div>
<div class="line">    defaults();</div>
<div class="line">    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 4) ? 4 : rec.size();</div>
<div class="line">    <span class="keywordflow">switch</span>(size) {</div>
<div class="line">    <span class="keywordflow">case</span> 4: passwd = convert&lt;const std::string&amp;, std::string&gt;(rec[3]);</div>
<div class="line">        passwd.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 3: name = convert&lt;const std::string&amp;, std::string&gt;(rec[2]);</div>
<div class="line">        name.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);</div>
<div class="line">        type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);</div>
<div class="line">        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">user::user(<span class="keyword">const</span> user&amp; obj)</div>
<div class="line">     : litesql::Persistent(obj), id(obj.id), type(obj.type), name(obj.name), passwd(obj.passwd) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> user&amp; user::operator=(<span class="keyword">const</span> user&amp; obj) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {</div>
<div class="line">        <span class="keywordtype">id</span> = obj.id;</div>
<div class="line">        type = obj.type;</div>
<div class="line">        name = obj.name;</div>
<div class="line">        passwd = obj.passwd;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="classlitesql_1_1Persistent.html#a01be299248c5ad85b65b5e2131ae7668">litesql::Persistent::operator=</a>(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">std::string user::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="keywordtype">id</span>.name());</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(type.name());</div>
<div class="line">    values.push_back(type);</div>
<div class="line">    type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(name.name());</div>
<div class="line">    values.push_back(name);</div>
<div class="line">    name.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(passwd.name());</div>
<div class="line">    values.push_back(passwd);</div>
<div class="line">    passwd.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#ac3511705ac807309d861e7c497960a1a">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">    updateField(updates, table__, type);</div>
<div class="line">    updateField(updates, table__, name);</div>
<div class="line">    updateField(updates, table__, passwd);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    ftypes.push_back(Id);</div>
<div class="line">    ftypes.push_back(Type);</div>
<div class="line">    ftypes.push_back(Name);</div>
<div class="line">    ftypes.push_back(Passwd);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::delRelations() {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> user::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;user&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> user::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;user&gt; user::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;user&gt;(<span class="keyword">new</span> user(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;user&gt; user::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    user* np = <span class="keyword">new</span> user(*<span class="keyword">this</span>);</div>
<div class="line">    np-&gt;id = id;</div>
<div class="line">    np-&gt;type = type;</div>
<div class="line">    np-&gt;name = name;</div>
<div class="line">    np-&gt;passwd = passwd;</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;user&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, user o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.name.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.name &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.passwd.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.passwd &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;Person_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> Person::SexType::Male(0);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> Person::SexType::Female(1);</div>
<div class="line">Person::SexType::SexType(<span class="keyword">const</span> std::string&amp; n, AT_field_type t, <span class="keyword">const</span> std::string&amp; tbl, <span class="keyword">const</span> litesql::FieldType::Values&amp; vals)</div>
<div class="line">         : litesql::FieldType(n,t,tbl,vals) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> Person::Sex::Male(0);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> Person::Sex::Female(1);</div>
<div class="line">Person::MotherHandle::MotherHandle(<span class="keyword">const</span> Person&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Person&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::MotherHandle::link(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationMother::link(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::MotherHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationMother::unlink(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::MotherHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    PersonPersonRelationMother::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationMother::Person1 == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> Person::MotherHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationMother::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationMother::Person1 == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> Person::MotherHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationMother::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationMother::Person1 == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line">Person::FatherHandle::FatherHandle(<span class="keyword">const</span> Person&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Person&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::FatherHandle::link(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationFather::link(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::FatherHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationFather::unlink(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::FatherHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    PersonPersonRelationFather::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationFather::Person1 == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> Person::FatherHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationFather::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationFather::Person1 == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> Person::FatherHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationFather::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationFather::Person1 == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line">Person::SiblingsHandle::SiblingsHandle(<span class="keyword">const</span> Person&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Person&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::SiblingsHandle::link(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationSiblings::link(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::SiblingsHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationSiblings::unlink(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::SiblingsHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    PersonPersonRelationSiblings::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationSiblings::Person1 == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> Person::SiblingsHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationSiblings::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationSiblings::Person1 == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> Person::SiblingsHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationSiblings::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationSiblings::Person1 == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line">Person::ChildrenHandle::ChildrenHandle(<span class="keyword">const</span> Person&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Person&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::ChildrenHandle::link(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationChildren::link(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::ChildrenHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    PersonPersonRelationChildren::unlink(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::ChildrenHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    PersonPersonRelationChildren::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationChildren::Person1 == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> Person::ChildrenHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationChildren::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationChildren::Person1 == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> Person::ChildrenHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> PersonPersonRelationChildren::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationChildren::Person1 == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line">Person::RolesHandle::RolesHandle(<span class="keyword">const</span> Person&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Person&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::RolesHandle::link(<span class="keyword">const</span> Role&amp; o0) {</div>
<div class="line">    RoleRelation::link(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::RolesHandle::unlink(<span class="keyword">const</span> Role&amp; o0) {</div>
<div class="line">    RoleRelation::unlink(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::RolesHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    RoleRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; RoleRelation::Person == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Role&gt;</a> Person::RolesHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> RoleRelation::get&lt;Role&gt;(owner-&gt;getDatabase(), expr, (RoleRelation::Person == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;RoleRelation::Row&gt;</a> Person::RolesHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> RoleRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (RoleRelation::Person == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string Person::type__(<span class="stringliteral">&quot;Person&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Person::table__(<span class="stringliteral">&quot;Person_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Person::sequence__(<span class="stringliteral">&quot;Person_seq&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::Type(<span class="stringliteral">&quot;type_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::Name(<span class="stringliteral">&quot;name_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::Age(<span class="stringliteral">&quot;age_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::Image(<span class="stringliteral">&quot;image_&quot;</span>,A_field_type_blob,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::ADoubleValue(<span class="stringliteral">&quot;aDoubleValue_&quot;</span>,A_field_type_double,table__);</div>
<div class="line">std::vector &lt; std::pair&lt; std::string, std::string &gt; &gt; Person::sex_values;</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Person::Sex(<span class="stringliteral">&quot;sex_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keywordtype">void</span> Person::initValues() {</div>
<div class="line">    sex_values.clear();</div>
<div class="line">    sex_values.push_back(make_pair&lt;std::string, std::string&gt;(<span class="stringliteral">&quot;Male&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>));</div>
<div class="line">    sex_values.push_back(make_pair&lt;std::string, std::string&gt;(<span class="stringliteral">&quot;Female&quot;</span>,<span class="stringliteral">&quot;1&quot;</span>));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::defaults() {</div>
<div class="line">    <span class="keywordtype">id</span> = 0;</div>
<div class="line">    age = 15;</div>
<div class="line">    image = Blob();</div>
<div class="line">    aDoubleValue = 0.0;</div>
<div class="line">    sex = 0;</div>
<div class="line">}</div>
<div class="line">Person::Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : litesql::Persistent(db), id(Id), type(Type), name(Name), age(Age), image(Image), aDoubleValue(ADoubleValue), sex(Sex) {</div>
<div class="line">    defaults();</div>
<div class="line">}</div>
<div class="line">Person::Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : litesql::Persistent(db, rec), id(Id), type(Type), name(Name), age(Age), image(Image), aDoubleValue(ADoubleValue), sex(Sex) {</div>
<div class="line">    defaults();</div>
<div class="line">    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 7) ? 7 : rec.size();</div>
<div class="line">    <span class="keywordflow">switch</span>(size) {</div>
<div class="line">    <span class="keywordflow">case</span> 7: sex = convert&lt;const std::string&amp;, int&gt;(rec[6]);</div>
<div class="line">        sex.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 6: aDoubleValue = convert&lt;const std::string&amp;, double&gt;(rec[5]);</div>
<div class="line">        aDoubleValue.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 5: image = convert&lt;const std::string&amp;, litesql::Blob&gt;(rec[4]);</div>
<div class="line">        image.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 4: age = convert&lt;const std::string&amp;, int&gt;(rec[3]);</div>
<div class="line">        age.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 3: name = convert&lt;const std::string&amp;, std::string&gt;(rec[2]);</div>
<div class="line">        name.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);</div>
<div class="line">        type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);</div>
<div class="line">        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">Person::Person(<span class="keyword">const</span> Person&amp; obj)</div>
<div class="line">     : litesql::Persistent(obj), id(obj.id), type(obj.type), name(obj.name), age(obj.age), image(obj.image), aDoubleValue(obj.aDoubleValue), sex(obj.sex) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> Person&amp; Person::operator=(<span class="keyword">const</span> Person&amp; obj) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {</div>
<div class="line">        <span class="keywordtype">id</span> = obj.id;</div>
<div class="line">        type = obj.type;</div>
<div class="line">        name = obj.name;</div>
<div class="line">        age = obj.age;</div>
<div class="line">        image = obj.image;</div>
<div class="line">        aDoubleValue = obj.aDoubleValue;</div>
<div class="line">        sex = obj.sex;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="classlitesql_1_1Persistent.html#a01be299248c5ad85b65b5e2131ae7668">litesql::Persistent::operator=</a>(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">Person::MotherHandle Person::mother() {</div>
<div class="line">    <span class="keywordflow">return</span> Person::MotherHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">Person::FatherHandle Person::father() {</div>
<div class="line">    <span class="keywordflow">return</span> Person::FatherHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">Person::SiblingsHandle Person::siblings() {</div>
<div class="line">    <span class="keywordflow">return</span> Person::SiblingsHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">Person::ChildrenHandle Person::children() {</div>
<div class="line">    <span class="keywordflow">return</span> Person::ChildrenHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">Person::RolesHandle Person::roles() {</div>
<div class="line">    <span class="keywordflow">return</span> Person::RolesHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">std::string Person::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="keywordtype">id</span>.name());</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(type.name());</div>
<div class="line">    values.push_back(type);</div>
<div class="line">    type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(name.name());</div>
<div class="line">    values.push_back(name);</div>
<div class="line">    name.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(age.name());</div>
<div class="line">    values.push_back(age);</div>
<div class="line">    age.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(image.name());</div>
<div class="line">    values.push_back(image);</div>
<div class="line">    image.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(aDoubleValue.name());</div>
<div class="line">    values.push_back(aDoubleValue);</div>
<div class="line">    aDoubleValue.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(sex.name());</div>
<div class="line">    values.push_back(sex);</div>
<div class="line">    sex.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#ac3511705ac807309d861e7c497960a1a">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">    updateField(updates, table__, type);</div>
<div class="line">    updateField(updates, table__, name);</div>
<div class="line">    updateField(updates, table__, age);</div>
<div class="line">    updateField(updates, table__, image);</div>
<div class="line">    updateField(updates, table__, aDoubleValue);</div>
<div class="line">    updateField(updates, table__, sex);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    ftypes.push_back(Id);</div>
<div class="line">    ftypes.push_back(Type);</div>
<div class="line">    ftypes.push_back(Name);</div>
<div class="line">    ftypes.push_back(Age);</div>
<div class="line">    ftypes.push_back(Image);</div>
<div class="line">    ftypes.push_back(ADoubleValue);</div>
<div class="line">    ftypes.push_back(Sex);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::delRelations() {</div>
<div class="line">    PersonPersonRelationMother::del(*db, (PersonPersonRelationMother::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationMother::Person2 == <span class="keywordtype">id</span>));</div>
<div class="line">    PersonPersonRelationFather::del(*db, (PersonPersonRelationFather::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationFather::Person2 == <span class="keywordtype">id</span>));</div>
<div class="line">    PersonPersonRelationSiblings::del(*db, (PersonPersonRelationSiblings::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationSiblings::Person2 == <span class="keywordtype">id</span>));</div>
<div class="line">    PersonPersonRelationChildren::del(*db, (PersonPersonRelationChildren::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationChildren::Person2 == <span class="keywordtype">id</span>));</div>
<div class="line">    RoleRelation::del(*db, (RoleRelation::Person == <span class="keywordtype">id</span>));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Person::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;Person&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> Person::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Person&gt; Person::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Person&gt;(<span class="keyword">new</span> Person(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Person&gt; Person::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    Person* np = <span class="keyword">new</span> Person(*<span class="keyword">this</span>);</div>
<div class="line">    np-&gt;id = id;</div>
<div class="line">    np-&gt;type = type;</div>
<div class="line">    np-&gt;name = name;</div>
<div class="line">    np-&gt;age = age;</div>
<div class="line">    np-&gt;image = image;</div>
<div class="line">    np-&gt;aDoubleValue = aDoubleValue;</div>
<div class="line">    np-&gt;sex = sex;</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Person&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Person o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.name.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.name &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.age.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.age &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.image.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.image &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.aDoubleValue.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.aDoubleValue &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.sex.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.sex &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Role::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;Role_&quot;</span>);</div>
<div class="line">Role::PersonHandle::PersonHandle(<span class="keyword">const</span> Role&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Role&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::PersonHandle::link(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    RoleRelation::link(owner-&gt;getDatabase(), o0, *owner);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::PersonHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {</div>
<div class="line">    RoleRelation::unlink(owner-&gt;getDatabase(), o0, *owner);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::PersonHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    RoleRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; RoleRelation::Role == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Person&gt;</a> Role::PersonHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> RoleRelation::get&lt;Person&gt;(owner-&gt;getDatabase(), expr, (RoleRelation::Role == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;RoleRelation::Row&gt;</a> Role::PersonHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> RoleRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (RoleRelation::Role == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string Role::type__(<span class="stringliteral">&quot;Role&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Role::table__(<span class="stringliteral">&quot;Role_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Role::sequence__(<span class="stringliteral">&quot;Role_seq&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Role::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Role::Type(<span class="stringliteral">&quot;type_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keywordtype">void</span> Role::initValues() {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::defaults() {</div>
<div class="line">    <span class="keywordtype">id</span> = 0;</div>
<div class="line">}</div>
<div class="line">Role::Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : litesql::Persistent(db), id(Id), type(Type) {</div>
<div class="line">    defaults();</div>
<div class="line">}</div>
<div class="line">Role::Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : litesql::Persistent(db, rec), id(Id), type(Type) {</div>
<div class="line">    defaults();</div>
<div class="line">    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 2) ? 2 : rec.size();</div>
<div class="line">    <span class="keywordflow">switch</span>(size) {</div>
<div class="line">    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);</div>
<div class="line">        type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);</div>
<div class="line">        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">Role::Role(<span class="keyword">const</span> Role&amp; obj)</div>
<div class="line">     : litesql::Persistent(obj), id(obj.id), type(obj.type) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> Role&amp; Role::operator=(<span class="keyword">const</span> Role&amp; obj) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {</div>
<div class="line">        <span class="keywordtype">id</span> = obj.id;</div>
<div class="line">        type = obj.type;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="classlitesql_1_1Persistent.html#a01be299248c5ad85b65b5e2131ae7668">litesql::Persistent::operator=</a>(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">Role::PersonHandle Role::person() {</div>
<div class="line">    <span class="keywordflow">return</span> Role::PersonHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">std::string Role::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="keywordtype">id</span>.name());</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(type.name());</div>
<div class="line">    values.push_back(type);</div>
<div class="line">    type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#ac3511705ac807309d861e7c497960a1a">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">    updateField(updates, table__, type);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    ftypes.push_back(Id);</div>
<div class="line">    ftypes.push_back(Type);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::delRelations() {</div>
<div class="line">    RoleRelation::del(*db, (RoleRelation::Role == <span class="keywordtype">id</span>));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Role::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;Role&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> Role::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Role&gt; Role::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">if</span> (type == Student::type__)</div>
<div class="line">        <span class="keywordflow">return</span> unique_ptr&lt;Role&gt;(<span class="keyword">new</span> Student(select&lt;Student&gt;(*db, Id == <span class="keywordtype">id</span>).one()));</div>
<div class="line">    <span class="keywordflow">if</span> (type == Employee::type__)</div>
<div class="line">        <span class="keywordflow">return</span> unique_ptr&lt;Role&gt;(<span class="keyword">new</span> Employee(select&lt;Employee&gt;(*db, Id == <span class="keywordtype">id</span>).one()));</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Role&gt;(<span class="keyword">new</span> Role(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Role&gt; Role::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    Role* np = NULL;</div>
<div class="line">    <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;Student&quot;</span>)</div>
<div class="line">        np = <span class="keyword">new</span> Student(*db);</div>
<div class="line">    <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;Employee&quot;</span>)</div>
<div class="line">        np = <span class="keyword">new</span> Employee(*db);</div>
<div class="line">    np-&gt;id = id;</div>
<div class="line">    np-&gt;type = type;</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Role&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Role o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Student::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;Student_&quot;</span>);</div>
<div class="line">Student::SchoolHandle::SchoolHandle(<span class="keyword">const</span> Student&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Student&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::SchoolHandle::link(<span class="keyword">const</span> School&amp; o0) {</div>
<div class="line">    SchoolStudentRelation::link(owner-&gt;getDatabase(), o0, *owner);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::SchoolHandle::unlink(<span class="keyword">const</span> School&amp; o0) {</div>
<div class="line">    SchoolStudentRelation::unlink(owner-&gt;getDatabase(), o0, *owner);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::SchoolHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SchoolStudentRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; SchoolStudentRelation::Student == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;School&gt;</a> Student::SchoolHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> SchoolStudentRelation::get&lt;School&gt;(owner-&gt;getDatabase(), expr, (SchoolStudentRelation::Student == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> Student::SchoolHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> SchoolStudentRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (SchoolStudentRelation::Student == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string Student::type__(<span class="stringliteral">&quot;Student&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Student::table__(<span class="stringliteral">&quot;Student_&quot;</span>);</div>
<div class="line">Student::Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : Role(db) {</div>
<div class="line">}</div>
<div class="line">Student::Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : Role(db, rec) {</div>
<div class="line">}</div>
<div class="line">Student::Student(<span class="keyword">const</span> Student&amp; obj)</div>
<div class="line">     : Role(obj) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> Student&amp; Student::operator=(<span class="keyword">const</span> Student&amp; obj) {</div>
<div class="line">    Role::operator=(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">Student::SchoolHandle Student::school() {</div>
<div class="line">    <span class="keywordflow">return</span> Student::SchoolHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">std::string Student::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="stringliteral">&quot;id_&quot;</span>);</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> Role::insert(tables, fieldRecs, valueRecs);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    Role::addUpdates(updates);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    Role::getFieldTypes(ftypes);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">    Role::delRecord();</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::delRelations() {</div>
<div class="line">    SchoolStudentRelation::del(*db, (SchoolStudentRelation::Student == <span class="keywordtype">id</span>));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Student::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;Student&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> Student::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Student&gt; Student::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Student&gt;(<span class="keyword">new</span> Student(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Student&gt; Student::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    Student* np = <span class="keyword">new</span> Student(*<span class="keyword">this</span>);</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Student&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Student o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Employee::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;Employee_&quot;</span>);</div>
<div class="line">Employee::OfficeHandle::OfficeHandle(<span class="keyword">const</span> Employee&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Employee&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::OfficeHandle::link(<span class="keyword">const</span> Office&amp; o0) {</div>
<div class="line">    EmployeeOfficeRelation::link(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::OfficeHandle::unlink(<span class="keyword">const</span> Office&amp; o0) {</div>
<div class="line">    EmployeeOfficeRelation::unlink(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::OfficeHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    EmployeeOfficeRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; EmployeeOfficeRelation::Employee == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Office&gt;</a> Employee::OfficeHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> EmployeeOfficeRelation::get&lt;Office&gt;(owner-&gt;getDatabase(), expr, (EmployeeOfficeRelation::Employee == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> Employee::OfficeHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> EmployeeOfficeRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (EmployeeOfficeRelation::Employee == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string Employee::type__(<span class="stringliteral">&quot;Employee&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Employee::table__(<span class="stringliteral">&quot;Employee_&quot;</span>);</div>
<div class="line">Employee::Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : Role(db) {</div>
<div class="line">}</div>
<div class="line">Employee::Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : Role(db, rec) {</div>
<div class="line">}</div>
<div class="line">Employee::Employee(<span class="keyword">const</span> Employee&amp; obj)</div>
<div class="line">     : Role(obj) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> Employee&amp; Employee::operator=(<span class="keyword">const</span> Employee&amp; obj) {</div>
<div class="line">    Role::operator=(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">Employee::OfficeHandle Employee::office() {</div>
<div class="line">    <span class="keywordflow">return</span> Employee::OfficeHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">std::string Employee::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="stringliteral">&quot;id_&quot;</span>);</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> Role::insert(tables, fieldRecs, valueRecs);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    Role::addUpdates(updates);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    Role::getFieldTypes(ftypes);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">    Role::delRecord();</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::delRelations() {</div>
<div class="line">    EmployeeOfficeRelation::del(*db, (EmployeeOfficeRelation::Employee == <span class="keywordtype">id</span>));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Employee::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;Employee&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> Employee::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Employee&gt; Employee::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Employee&gt;(<span class="keyword">new</span> Employee(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Employee&gt; Employee::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    Employee* np = <span class="keyword">new</span> Employee(*<span class="keyword">this</span>);</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Employee&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Employee o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> School::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;School_&quot;</span>);</div>
<div class="line">School::StudentsHandle::StudentsHandle(<span class="keyword">const</span> School&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;School&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::StudentsHandle::link(<span class="keyword">const</span> Student&amp; o0) {</div>
<div class="line">    SchoolStudentRelation::link(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::StudentsHandle::unlink(<span class="keyword">const</span> Student&amp; o0) {</div>
<div class="line">    SchoolStudentRelation::unlink(owner-&gt;getDatabase(), *owner, o0);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::StudentsHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    SchoolStudentRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; SchoolStudentRelation::School == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Student&gt;</a> School::StudentsHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> SchoolStudentRelation::get&lt;Student&gt;(owner-&gt;getDatabase(), expr, (SchoolStudentRelation::School == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> School::StudentsHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> SchoolStudentRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (SchoolStudentRelation::School == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string School::type__(<span class="stringliteral">&quot;School&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string School::table__(<span class="stringliteral">&quot;School_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string School::sequence__(<span class="stringliteral">&quot;School_seq&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> School::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> School::Type(<span class="stringliteral">&quot;type_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> School::Name(<span class="stringliteral">&quot;name_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keywordtype">void</span> School::initValues() {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::defaults() {</div>
<div class="line">    <span class="keywordtype">id</span> = 0;</div>
<div class="line">}</div>
<div class="line">School::School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : litesql::Persistent(db), id(Id), type(Type), name(Name) {</div>
<div class="line">    defaults();</div>
<div class="line">}</div>
<div class="line">School::School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : litesql::Persistent(db, rec), id(Id), type(Type), name(Name) {</div>
<div class="line">    defaults();</div>
<div class="line">    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 3) ? 3 : rec.size();</div>
<div class="line">    <span class="keywordflow">switch</span>(size) {</div>
<div class="line">    <span class="keywordflow">case</span> 3: name = convert&lt;const std::string&amp;, std::string&gt;(rec[2]);</div>
<div class="line">        name.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);</div>
<div class="line">        type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);</div>
<div class="line">        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">School::School(<span class="keyword">const</span> School&amp; obj)</div>
<div class="line">     : litesql::Persistent(obj), id(obj.id), type(obj.type), name(obj.name) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> School&amp; School::operator=(<span class="keyword">const</span> School&amp; obj) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {</div>
<div class="line">        <span class="keywordtype">id</span> = obj.id;</div>
<div class="line">        type = obj.type;</div>
<div class="line">        name = obj.name;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="classlitesql_1_1Persistent.html#a01be299248c5ad85b65b5e2131ae7668">litesql::Persistent::operator=</a>(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">School::StudentsHandle School::students() {</div>
<div class="line">    <span class="keywordflow">return</span> School::StudentsHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">std::string School::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="keywordtype">id</span>.name());</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(type.name());</div>
<div class="line">    values.push_back(type);</div>
<div class="line">    type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(name.name());</div>
<div class="line">    values.push_back(name);</div>
<div class="line">    name.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#ac3511705ac807309d861e7c497960a1a">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">    updateField(updates, table__, type);</div>
<div class="line">    updateField(updates, table__, name);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    ftypes.push_back(Id);</div>
<div class="line">    ftypes.push_back(Type);</div>
<div class="line">    ftypes.push_back(Name);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::delRelations() {</div>
<div class="line">    SchoolStudentRelation::del(*db, (SchoolStudentRelation::School == <span class="keywordtype">id</span>));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> School::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;School&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> School::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;School&gt; School::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;School&gt;(<span class="keyword">new</span> School(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;School&gt; School::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    School* np = <span class="keyword">new</span> School(*<span class="keyword">this</span>);</div>
<div class="line">    np-&gt;id = id;</div>
<div class="line">    np-&gt;type = type;</div>
<div class="line">    np-&gt;name = name;</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;School&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, School o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.name.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.name &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Office::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;Office_&quot;</span>);</div>
<div class="line">Office::EmployeesHandle::EmployeesHandle(<span class="keyword">const</span> Office&amp; owner)</div>
<div class="line">         : litesql::RelationHandle&lt;Office&gt;(owner) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::EmployeesHandle::link(<span class="keyword">const</span> Employee&amp; o0) {</div>
<div class="line">    EmployeeOfficeRelation::link(owner-&gt;getDatabase(), o0, *owner);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::EmployeesHandle::unlink(<span class="keyword">const</span> Employee&amp; o0) {</div>
<div class="line">    EmployeeOfficeRelation::unlink(owner-&gt;getDatabase(), o0, *owner);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::EmployeesHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    EmployeeOfficeRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; EmployeeOfficeRelation::Office == owner-&gt;id);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;Employee&gt;</a> Office::EmployeesHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; srcExpr) {</div>
<div class="line">    <span class="keywordflow">return</span> EmployeeOfficeRelation::get&lt;Employee&gt;(owner-&gt;getDatabase(), expr, (EmployeeOfficeRelation::Office == owner-&gt;id) &amp;&amp; srcExpr);</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classlitesql_1_1DataSource.html">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> Office::EmployeesHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html">litesql::Expr</a>&amp; expr) {</div>
<div class="line">    <span class="keywordflow">return</span> EmployeeOfficeRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (EmployeeOfficeRelation::Office == owner-&gt;id));</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> std::string Office::type__(<span class="stringliteral">&quot;Office&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Office::table__(<span class="stringliteral">&quot;Office_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string Office::sequence__(<span class="stringliteral">&quot;Office_seq&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Office::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> Office::Type(<span class="stringliteral">&quot;type_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keywordtype">void</span> Office::initValues() {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::defaults() {</div>
<div class="line">    <span class="keywordtype">id</span> = 0;</div>
<div class="line">}</div>
<div class="line">Office::Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : litesql::Persistent(db), id(Id), type(Type) {</div>
<div class="line">    defaults();</div>
<div class="line">}</div>
<div class="line">Office::Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : litesql::Persistent(db, rec), id(Id), type(Type) {</div>
<div class="line">    defaults();</div>
<div class="line">    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 2) ? 2 : rec.size();</div>
<div class="line">    <span class="keywordflow">switch</span>(size) {</div>
<div class="line">    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);</div>
<div class="line">        type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);</div>
<div class="line">        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">Office::Office(<span class="keyword">const</span> Office&amp; obj)</div>
<div class="line">     : litesql::Persistent(obj), id(obj.id), type(obj.type) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> Office&amp; Office::operator=(<span class="keyword">const</span> Office&amp; obj) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {</div>
<div class="line">        <span class="keywordtype">id</span> = obj.id;</div>
<div class="line">        type = obj.type;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="classlitesql_1_1Persistent.html#a01be299248c5ad85b65b5e2131ae7668">litesql::Persistent::operator=</a>(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">Office::EmployeesHandle Office::employees() {</div>
<div class="line">    <span class="keywordflow">return</span> Office::EmployeesHandle(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line">std::string Office::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="keywordtype">id</span>.name());</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(type.name());</div>
<div class="line">    values.push_back(type);</div>
<div class="line">    type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#ac3511705ac807309d861e7c497960a1a">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">    updateField(updates, table__, type);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    ftypes.push_back(Id);</div>
<div class="line">    ftypes.push_back(Type);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::delRelations() {</div>
<div class="line">    EmployeeOfficeRelation::del(*db, (EmployeeOfficeRelation::Office == <span class="keywordtype">id</span>));</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Office::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;Office&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> Office::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Office&gt; Office::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Office&gt;(<span class="keyword">new</span> Office(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;Office&gt; Office::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    Office* np = <span class="keyword">new</span> Office(*<span class="keyword">this</span>);</div>
<div class="line">    np-&gt;id = id;</div>
<div class="line">    np-&gt;type = type;</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;Office&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Office o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> ThingWithMethods::Own::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,<span class="stringliteral">&quot;ThingWithMethods_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string ThingWithMethods::type__(<span class="stringliteral">&quot;ThingWithMethods&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string ThingWithMethods::table__(<span class="stringliteral">&quot;ThingWithMethods_&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string ThingWithMethods::sequence__(<span class="stringliteral">&quot;ThingWithMethods_seq&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> ThingWithMethods::Id(<span class="stringliteral">&quot;id_&quot;</span>,A_field_type_integer,table__);</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classlitesql_1_1FieldType.html">litesql::FieldType</a> ThingWithMethods::Type(<span class="stringliteral">&quot;type_&quot;</span>,A_field_type_string,table__);</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::initValues() {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::defaults() {</div>
<div class="line">    <span class="keywordtype">id</span> = 0;</div>
<div class="line">}</div>
<div class="line">ThingWithMethods::ThingWithMethods(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db)</div>
<div class="line">     : litesql::Persistent(db), id(Id), type(Type) {</div>
<div class="line">    defaults();</div>
<div class="line">}</div>
<div class="line">ThingWithMethods::ThingWithMethods(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; rec)</div>
<div class="line">     : litesql::Persistent(db, rec), id(Id), type(Type) {</div>
<div class="line">    defaults();</div>
<div class="line">    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 2) ? 2 : rec.size();</div>
<div class="line">    <span class="keywordflow">switch</span>(size) {</div>
<div class="line">    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);</div>
<div class="line">        type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);</div>
<div class="line">        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">ThingWithMethods::ThingWithMethods(<span class="keyword">const</span> ThingWithMethods&amp; obj)</div>
<div class="line">     : litesql::Persistent(obj), id(obj.id), type(obj.type) {</div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> ThingWithMethods&amp; ThingWithMethods::operator=(<span class="keyword">const</span> ThingWithMethods&amp; obj) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {</div>
<div class="line">        <span class="keywordtype">id</span> = obj.id;</div>
<div class="line">        type = obj.type;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="classlitesql_1_1Persistent.html#a01be299248c5ad85b65b5e2131ae7668">litesql::Persistent::operator=</a>(obj);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line">std::string ThingWithMethods::insert(<a class="code" href="classlitesql_1_1Record.html">litesql::Record</a>&amp; tables, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; fieldRecs, <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a>&amp; valueRecs) {</div>
<div class="line">    tables.push_back(table__);</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> fields;</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> values;</div>
<div class="line">    fields.push_back(<span class="keywordtype">id</span>.name());</div>
<div class="line">    values.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fields.push_back(type.name());</div>
<div class="line">    values.push_back(type);</div>
<div class="line">    type.setModified(<span class="keyword">false</span>);</div>
<div class="line">    fieldRecs.push_back(fields);</div>
<div class="line">    valueRecs.push_back(values);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#ac3511705ac807309d861e7c497960a1a">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::create() {</div>
<div class="line">    <a class="code" href="classlitesql_1_1Record.html">litesql::Record</a> tables;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> fieldRecs;</div>
<div class="line">    <a class="code" href="types_8hpp.html#a8bc115c26449fcf22b057cd3c5305d98">litesql::Records</a> valueRecs;</div>
<div class="line">    type = type__;</div>
<div class="line">    std::string newID = insert(tables, fieldRecs, valueRecs);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line">        <span class="keywordtype">id</span> = newID;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::addUpdates(Updates&amp; updates) {</div>
<div class="line">    prepareUpdate(updates, table__);</div>
<div class="line">    updateField(updates, table__, <span class="keywordtype">id</span>);</div>
<div class="line">    updateField(updates, table__, type);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::addIDUpdates(Updates&amp; updates) {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {</div>
<div class="line">    ftypes.push_back(Id);</div>
<div class="line">    ftypes.push_back(Type);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::delRecord() {</div>
<div class="line">    deleteFromTable(table__, <span class="keywordtype">id</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::delRelations() {</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::update() {</div>
<div class="line">    <span class="keywordflow">if</span> (!inDatabase) {</div>
<div class="line">        create();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Updates updates;</div>
<div class="line">    addUpdates(updates);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {</div>
<div class="line">        <span class="keywordflow">if</span> (!typeIsCorrect()) </div>
<div class="line">            upcastCopy()-&gt;addIDUpdates(updates);</div>
<div class="line">    }</div>
<div class="line">    litesql::Persistent::update(updates);</div>
<div class="line">    oldKey = id;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ThingWithMethods::del() {</div>
<div class="line">    <span class="keywordflow">if</span> (!typeIsCorrect()) {</div>
<div class="line">        std::unique_ptr&lt;ThingWithMethods&gt; p(upcastCopy());</div>
<div class="line">        p-&gt;delRelations();</div>
<div class="line">        p-&gt;onDelete();</div>
<div class="line">        p-&gt;delRecord();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        delRelations();</div>
<div class="line">        onDelete();</div>
<div class="line">        delRecord();</div>
<div class="line">    }</div>
<div class="line">    inDatabase = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">bool</span> ThingWithMethods::typeIsCorrect()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> type == type__;</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;ThingWithMethods&gt; ThingWithMethods::upcast()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;ThingWithMethods&gt;(<span class="keyword">new</span> ThingWithMethods(*<span class="keyword">this</span>));</div>
<div class="line">}</div>
<div class="line">std::unique_ptr&lt;ThingWithMethods&gt; ThingWithMethods::upcastCopy()<span class="keyword"> const </span>{</div>
<div class="line">    ThingWithMethods* np = <span class="keyword">new</span> ThingWithMethods(*<span class="keyword">this</span>);</div>
<div class="line">    np-&gt;id = id;</div>
<div class="line">    np-&gt;type = type;</div>
<div class="line">    np-&gt;inDatabase = inDatabase;</div>
<div class="line">    <span class="keywordflow">return</span> unique_ptr&lt;ThingWithMethods&gt;(np);</div>
<div class="line">}</div>
<div class="line">std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, ThingWithMethods o) {</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.id &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; o.type &lt;&lt; std::endl;</div>
<div class="line">    os &lt;&lt; <span class="stringliteral">&quot;-------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> os;</div>
<div class="line">}</div>
<div class="line">ExampleDatabase::ExampleDatabase( <span class="keyword">const</span> std::string&amp; backendType, <span class="keyword">const</span> std::string&amp; connInfo)</div>
<div class="line">     : litesql::Database(backendType, connInfo) {</div>
<div class="line">    initialize();</div>
<div class="line">}</div>
<div class="line">std::vector&lt;litesql::Database::SchemaItem&gt; ExampleDatabase::getSchema()<span class="keyword"> const </span>{</div>
<div class="line">    vector&lt;Database::SchemaItem&gt; res;</div>
<div class="line">    <span class="keywordtype">string</span> TEXT = backend-&gt;getSQLType(A_field_type_string);</div>
<div class="line">    <span class="keywordtype">string</span> rowIdType = backend-&gt;getRowIDType();</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;schema_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE schema_ (name_ &quot;</span>+TEXT+<span class="stringliteral">&quot;, type_ &quot;</span>+TEXT+<span class="stringliteral">&quot;, sql_ &quot;</span>+TEXT+<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    <span class="keywordflow">if</span> (backend-&gt;supportsSequences()) {</div>
<div class="line">        res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;user_seq&quot;</span>,<span class="stringliteral">&quot;sequence&quot;</span>,backend-&gt;getCreateSequenceSQL(<span class="stringliteral">&quot;user_seq&quot;</span>)));</div>
<div class="line">        res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_seq&quot;</span>,<span class="stringliteral">&quot;sequence&quot;</span>,backend-&gt;getCreateSequenceSQL(<span class="stringliteral">&quot;Person_seq&quot;</span>)));</div>
<div class="line">        res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Role_seq&quot;</span>,<span class="stringliteral">&quot;sequence&quot;</span>,backend-&gt;getCreateSequenceSQL(<span class="stringliteral">&quot;Role_seq&quot;</span>)));</div>
<div class="line">        res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;School_seq&quot;</span>,<span class="stringliteral">&quot;sequence&quot;</span>,backend-&gt;getCreateSequenceSQL(<span class="stringliteral">&quot;School_seq&quot;</span>)));</div>
<div class="line">        res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Office_seq&quot;</span>,<span class="stringliteral">&quot;sequence&quot;</span>,backend-&gt;getCreateSequenceSQL(<span class="stringliteral">&quot;Office_seq&quot;</span>)));</div>
<div class="line">        res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;ThingWithMethods_seq&quot;</span>,<span class="stringliteral">&quot;sequence&quot;</span>,backend-&gt;getCreateSequenceSQL(<span class="stringliteral">&quot;ThingWithMethods_seq&quot;</span>)));</div>
<div class="line">    }</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;user_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE user_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;,type_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,name_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;256&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,passwd_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Person_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;,type_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,name_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;256&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,age_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,image_ &quot;</span> + backend-&gt;getSQLType(A_field_type_blob,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,aDoubleValue_ &quot;</span> + backend-&gt;getSQLType(A_field_type_double,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,sex_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Role_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Role_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;,type_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Student_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Student_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Employee_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Employee_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;School_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE School_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;,type_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,name_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;512&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Office_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Office_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;,type_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;ThingWithMethods_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE ThingWithMethods_ (id_ &quot;</span> + rowIdType + <span class="stringliteral">&quot;,type_ &quot;</span> + backend-&gt;getSQLType(A_field_type_string,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Mother&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Person_Person_Mother (Person1_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot; UNIQUE&quot;</span> +<span class="stringliteral">&quot;,Person2_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Father&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Person_Person_Father (Person1_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot; UNIQUE&quot;</span> +<span class="stringliteral">&quot;,Person2_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Siblings&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Person_Person_Siblings (Person1_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,Person2_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Children&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Person_Person_Children (Person1_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,Person2_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Role_Roles&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Person_Role_Roles (Person1_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,Role2_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot; UNIQUE&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;School_Student_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE School_Student_ (School1_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,Student2_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot; UNIQUE&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Employee_Office_&quot;</span>,<span class="stringliteral">&quot;table&quot;</span>,<span class="stringliteral">&quot;CREATE TABLE Employee_Office_ (Employee1_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;,Office2_ &quot;</span> + backend-&gt;getSQLType(A_field_type_integer,<span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&quot;</span> +<span class="stringliteral">&quot;)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;user_id_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX user_id_idx ON user_ (id_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_id_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_id_idx ON Person_ (id_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person__name_age_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE UNIQUE INDEX Person__name_age_idx ON Person_ (name_,age_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Role_id_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Role_id_idx ON Role_ (id_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;School_id_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX School_id_idx ON School_ (id_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Office_id_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Office_id_idx ON Office_ (id_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;ThingWithMethods_id_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX ThingWithMethods_id_idx ON ThingWithMethods_ (id_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Oee4eb2b8f280ef74d4d9b000ad762&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Oee4eb2b8f280ef74d4d9b000ad762 ON Person_Person_Mother (Person1_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;O534e82725f31f0ed55507bb93876f&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX O534e82725f31f0ed55507bb93876f ON Person_Person_Mother (Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Mother_all_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_Person_Mother_all_idx ON Person_Person_Mother (Person1_,Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;O015cdc2a9b96a2fe227389cb205e1&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX O015cdc2a9b96a2fe227389cb205e1 ON Person_Person_Father (Person1_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Ob6198f9bf01ff852985e22535b63c&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Ob6198f9bf01ff852985e22535b63c ON Person_Person_Father (Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Father_all_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_Person_Father_all_idx ON Person_Person_Father (Person1_,Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;O83113b1dbe037a340a4b4fb558318&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX O83113b1dbe037a340a4b4fb558318 ON Person_Person_Siblings (Person1_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Oa2ca8dcfc753ed5593154e5c78dd9&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Oa2ca8dcfc753ed5593154e5c78dd9 ON Person_Person_Siblings (Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Siblings_all_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_Person_Siblings_all_idx ON Person_Person_Siblings (Person1_,Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;O7e9a52474b6d215cf914b0521bd38&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX O7e9a52474b6d215cf914b0521bd38 ON Person_Person_Children (Person1_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Obe20d0fd80388c3efb79c932f5d78&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Obe20d0fd80388c3efb79c932f5d78 ON Person_Person_Children (Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Person_Children_all_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_Person_Children_all_idx ON Person_Person_Children (Person1_,Person2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Role_RolesPerson1_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_Role_RolesPerson1_idx ON Person_Role_Roles (Person1_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Role_RolesRole2_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_Role_RolesRole2_idx ON Person_Role_Roles (Role2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Person_Role_Roles_all_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Person_Role_Roles_all_idx ON Person_Role_Roles (Person1_,Role2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;School_Student_School1_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX School_Student_School1_idx ON School_Student_ (School1_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;School_Student_Student2_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX School_Student_Student2_idx ON School_Student_ (Student2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;School_Student__all_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX School_Student__all_idx ON School_Student_ (School1_,Student2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Employee_Office_Employee1_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Employee_Office_Employee1_idx ON Employee_Office_ (Employee1_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Employee_Office_Office2_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Employee_Office_Office2_idx ON Employee_Office_ (Office2_)&quot;</span>));</div>
<div class="line">    res.push_back(Database::SchemaItem(<span class="stringliteral">&quot;Employee_Office__all_idx&quot;</span>,<span class="stringliteral">&quot;index&quot;</span>,<span class="stringliteral">&quot;CREATE INDEX Employee_Office__all_idx ON Employee_Office_ (Employee1_,Office2_)&quot;</span>));</div>
<div class="line">    <span class="keywordflow">return</span> res;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ExampleDatabase::initialize() {</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (initialized)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    initialized = <span class="keyword">true</span>;</div>
<div class="line">    Person::initValues();</div>
<div class="line">}</div>
<div class="line">}</div>
<div class="ttc" id="aclasslitesql_1_1Database_html_a14181298877d2c348281097343e379d2"><div class="ttname"><a href="classlitesql_1_1Database.html#a14181298877d2c348281097343e379d2">litesql::Database::insert</a></div><div class="ttdeci">void insert(const std::string &amp;table, const Record &amp;r, const std::vector&lt; std::string &gt; &amp;fields=std::vector&lt; std::string &gt;()) const</div><div class="ttdoc">executes SQL INSERT statement.</div><div class="ttdef"><b>Definition:</b> database.cpp:247</div></div>
<div class="ttc" id="aclasslitesql_1_1Database_html_a4b265fc02dac0635cf55225998a4fa59"><div class="ttname"><a href="classlitesql_1_1Database.html#a4b265fc02dac0635cf55225998a4fa59">litesql::Database::delete_</a></div><div class="ttdeci">void delete_(const std::string &amp;table, const Expr &amp;e=Expr()) const</div><div class="ttdoc">deletes rows from single table, deleted rows are selected by Expr if specified</div><div class="ttdef"><b>Definition:</b> database.cpp:277</div></div>
<div class="ttc" id="aclasslitesql_1_1Persistent_html_a01be299248c5ad85b65b5e2131ae7668"><div class="ttname"><a href="classlitesql_1_1Persistent.html#a01be299248c5ad85b65b5e2131ae7668">litesql::Persistent::operator=</a></div><div class="ttdeci">const Persistent &amp; operator=(const Persistent &amp;p)</div><div class="ttdoc">copies values and keeps fields unchanged</div><div class="ttdef"><b>Definition:</b> persistent.cpp:14</div></div>
<div class="ttc" id="aclasslitesql_1_1Persistent_html_ac3511705ac807309d861e7c497960a1a"><div class="ttname"><a href="classlitesql_1_1Persistent.html#ac3511705ac807309d861e7c497960a1a">litesql::Persistent::insert</a></div><div class="ttdeci">std::string insert(Record &amp;tables, Records &amp;fieldRecs, Records &amp;values, const std::string &amp;sequence)</div><div class="ttdoc">executed when object is created into database</div><div class="ttdef"><b>Definition:</b> persistent.cpp:23</div></div>
</div><!-- fragment --><h1><a class="anchor" id="mappingtodatabase"></a>
Mapping Objects to Relational Database</h1>
<p>Fields of multiple Persistent-classes are stored in separate tables. Each Persistent-class has its own table. Also, each relation is stored in separate table. An example database demonstrates data mapping. </p><div class="fragment"><div class="line">&lt;database name=<span class="stringliteral">&quot;example&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">&quot;Playable&quot;</span>&gt;</div>
<div class="line">        &lt;field name=<span class="stringliteral">&quot;name&quot;</span> type=<span class="stringliteral">&quot;string&quot;</span>/&gt;</div>
<div class="line">        &lt;method name=<span class="stringliteral">&quot;play&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">object</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">&quot;AudioFile&quot;</span> inherits=<span class="stringliteral">&quot;Playable&quot;</span>&gt;</div>
<div class="line">        &lt;field name=<span class="stringliteral">&quot;file&quot;</span> type=<span class="stringliteral">&quot;string&quot;</span>/&gt;</div>
<div class="line">        &lt;method name=<span class="stringliteral">&quot;play&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">object</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">&quot;Collection&quot;</span>&gt;</div>
<div class="line">        &lt;field name=<span class="stringliteral">&quot;description&quot;</span> type=<span class="stringliteral">&quot;string&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">object</span>&gt;</div>
<div class="line">    &lt;relation&gt;</div>
<div class="line">        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">&quot;AudioFile&quot;</span> handle=<span class="stringliteral">&quot;collections&quot;</span>/&gt;</div>
<div class="line">        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">&quot;Collection&quot;</span> handle=<span class="stringliteral">&quot;files&quot;</span>/&gt;</div>
<div class="line">        &lt;field name=<span class="stringliteral">&quot;percent&quot;</span> type=<span class="stringliteral">&quot;integer&quot;</span> <span class="keywordflow">default</span>=<span class="stringliteral">&quot;100&quot;</span>/&gt; </div>
<div class="line">    &lt;/relation&gt;</div>
<div class="line">&lt;/database&gt;</div>
</div><!-- fragment --><p> The database schema extracted from definitions above is similar to following: </p><div class="fragment"><div class="line">CREATE TABLE Playable_ (id_ INTEGER PRIMARY KEY, type_ TEXT, name_ TEXT);</div>
<div class="line">CREATE TABLE AudioFile_ (id_ INTEGER PRIMARY KEY, file_ TEXT);</div>
<div class="line">CREATE TABLE Collection_ (id_ INTEGER PRIMARY KEY, type_ TEXT, description_ TEXT);</div>
<div class="line">CREATE TABLE AudioFile_Collection_ (AudioFile1 INTEGER, Collection2 INTEGER, percent_ INTEGER);</div>
<div class="line"> </div>
<div class="line">-- original name: idx_AudioFile_Collection_AudioFile1</div>
<div class="line">CREATE INDEX _71b11d59ca507479edd464e053cd01 ON AudioFile_Collection_ (AudioFile1); </div>
<div class="line"> </div>
<div class="line">-- original name: idx_AudioFile_Collection_Collection2</div>
<div class="line">CREATE INDEX _e1305d9ca2d1c6947b38fc301ad676 ON AudioFile_Collection_ (Collection2); </div>
<div class="line"> </div>
<div class="line">-- original name: idx_AudioFile_Collection_AudioFile1_Collection2</div>
<div class="line">CREATE INDEX _7e632b2ede1b6f3348d36e44e443d0 ON AudioFile_Collection_ (AudioFile1,Collection2); </div>
</div><!-- fragment --><p>The relation table AudioFile_Collection_ is indexed by both of its fields. If table or index identifier is longer than 31 characters, it will be truncated by calculating MD5-sum of the identifier because all backends do not support longer identifiers (certain PostgreSQL - versions at least).</p>
<p>Fields in tables of Persistent classes and relation attributes (extra fields in relation tables) are postfixed with an underscore to allow usage of SQL's reserved words in identifiers.</p>
<h1><a class="anchor" id="virtualmethods"></a>
Virtual Methods</h1>
<p>Using database defined in previous section, suppose one needs to select a Playable from database and play() it. The routine selecting and playing the Playable cannot know the actual type of the Playable.</p>
<p>After Playable-object is selected from database it really is a Playable despite it was stored as an AudioFile for example.</p>
<p>In order to retrieve all fields that AudioFile has, the Playable object needs to be upcasted. </p><div class="fragment"><div class="line">AudioFile af(db);</div>
<div class="line">af.name = <span class="stringliteral">&quot;A good song&quot;</span>;</div>
<div class="line">af.file = <span class="stringliteral">&quot;goodsong.mp3&quot;</span>;</div>
<div class="line">af.update();</div>
<div class="line"> </div>
<div class="line">Playable p = select&lt;Playable&gt;(db, Playable::Name == <span class="stringliteral">&quot;A good song&quot;</span>).one()</div>
<div class="line"><span class="comment">// p has only one field: name</span></div>
<div class="line"> </div>
<div class="line">p.upcast().play();</div>
<div class="line"><span class="comment">// this executes actually select&lt;AudioFile&gt;(db, Playable::Id == x).one().play();</span></div>
</div><!-- fragment --><p>The code generator (litesql-gen) writes upcast-method that returns object of correct type.</p>
<p>Sometimes extra fields that an inherited Persistent may have are not needed when accessing virtual methods. It would be futile to execute SQL statements. Another upcaster function is provided to help in this situation.</p>
<p>For example, onDelete() - may not need any fields. del() - method that calls onDelete() uses upcastCopy() to access onDelete() of inherited Persistent.</p>
<div class="fragment"><div class="line"><span class="comment">// same Playable is selected as in above example</span></div>
<div class="line">p.upcastCopy()-&gt;makeLogEntry(log)</div>
</div><!-- fragment --><p>Note that upcastCopy will return a Persistent whose all fields are not retrieved from database. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<hr />
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=113304&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>
